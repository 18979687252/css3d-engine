<!DOCTYPE HTML>
<head>
    <script src="../css3d.js"></script>
    <style>
    </style>
</head>
<body>
<script>
    //创建场景
    var s = new C3D.Stage();
    s.size(window.innerWidth, window.innerHeight).material({
        color : "#cccccc"
    }).update();
    document.body.appendChild(s.el);

    //创建1个平面放入场景
    var c = new C3D.TargetCamera();
    c.position(100, 100, -500).update();
    s.camera = c;

    //创建1个立方体放入场景
    var b = new C3D.Cube();
    b.size(10,10,10).position(0, 0, -500).rotation(0, 0, 0).material({
        color : C3D.getRandomColor()
    }).update();
    s.addChild(b);

    c.target = b;
    c.update();

    //响应屏幕调整尺寸
    function resize() {
        s.size(window.innerWidth, window.innerHeight).update();
    };
    window.onresize = function() {
        resize();
    };
    resize();

    //刷新场景
    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame ||
    function(callback) {
        setTimeout(callback, 1000 / 60);
    };

    var vx = 1;
    var vy = 1;
    var vz = 1;
    function go() {
        if(c.y > 50){
            vy = -vy;
        }else if(c.y < -50){
            vy = -vy;
        }
        if(c.x > 50){
            vx = -vx;
        }else if(c.x < -50){
            vx = -vx;
        }
        if(c.z > 50){
            vz = -vz;
        }else if(c.z < -50){
            vz = -vz;
        }
//        c.move(0, vy, 0).update();
//        s.updateT();

//        b.rotate(1, 0, 0).update();

        // s.camera.move(0,0,-1).rotate(0,0.15,0);
        // s.update();

        requestAnimationFrame(go);
    }

    requestAnimationFrame(go);

</script>
</body>
